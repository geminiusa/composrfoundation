<?php
return unserialize("a:6:{i:0;a:1:{i:0;a:5:{i:0;s:36:\"tcpfunc_JAVASCRIPT_AJAX_PEOPLE_LISTS\";i:1;a:0:{}i:2;i:1;i:3;s:0:\"\";i:4;s:0:\"\";}}i:1;a:0:{}i:2;s:28:\"JAVASCRIPT_AJAX_PEOPLE_LISTS\";i:3;N;i:4;N;i:5;s:10890:\"\$TPL_FUNCS['tcpfunc_JAVASCRIPT_AJAX_PEOPLE_LISTS']=\" echo \\\"\\\\\\\"use strict\\\\\\\";\\\\n\\\\nwindow.current_list_for=null;\\\\n\\\\nfunction update_ajax_admin_search_list(target\\\",\\n	',',\\n	\\\"e)\\\\n{\\\\n	update_ajax_member_list(target\\\",\\n	',',\\n	\\\"'admin_search'\\\",\\n	',',\\n	\\\"false\\\",\\n	',',\\n	\\\"e);\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction update_ajax_search_list(target\\\",\\n	',',\\n	\\\"e)\\\\n{\\\\n	update_ajax_member_list(target\\\",\\n	',',\\n	\\\"'search'\\\",\\n	',',\\n	\\\"false\\\",\\n	',',\\n	\\\"e);\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction update_ajax_author_list(target\\\",\\n	',',\\n	\\\"e)\\\\n{\\\\n	update_ajax_member_list(target\\\",\\n	',',\\n	\\\"'author'\\\",\\n	',',\\n	\\\"false\\\",\\n	',',\\n	\\\"e);\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction close_down()\\\\n{\\\\n	var current=document.getElementById('ajax_list');\\\\n	if (current) current.parentNode.removeChild(current);\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nwindow.currently_doing_list=null;\\\\n\\\\nadd_event_listener_abstract(window\\\",\\n	',',\\n	\\\"'load'\\\",\\n	',',\\n	\\\"function () {\\\\n	var es=document.getElementsByTagName('input');\\\\n	for (var i=0;i<es.length;i++)\\\\n	{\\\\n		if (es[i].getAttribute('autocomplete')=='off')\\\\n			es[i].setAttribute('autocorrect'\\\",\\n	',',\\n	\\\"'off');\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\",\\n	\\\"}\\\",\\n	\\\" );\\\\n\\\\nfunction update_ajax_member_list(target\\\",\\n	',',\\n	\\\"special\\\",\\n	',',\\n	\\\"delayed\\\",\\n	',',\\n	\\\"e)\\\\n{\\\\n	if (typeof e=='undefined') var e=window.event;\\\\n\\\\n	// Uncomment the below to disable backspace\\\\n	//if (!e) target.onkeyup=function (e2) { update_ajax_member_list(target\\\",\\n	',',\\n	\\\"special\\\",\\n	',',\\n	\\\"delayed\\\",\\n	',',\\n	\\\"e2); \\\",\\n	\\\"}\\\",\\n	\\\" ; // Make sure we get the event next time\\\\n	//if ((e) && (e.keyCode==8)) return; // No back key allowed\\\\n\\\\n	if (e && enter_pressed(e)) return null;\\\\n\\\\n	target.setAttribute('autocomplete'\\\",\\n	',',\\n	\\\"'off');\\\\n	target.setAttribute('autocorrect'\\\",\\n	',',\\n	\\\"'off');\\\\n	if (target.disabled) return;\\\\n\\\\n	if (!browser_matches('ios'))\\\\n	{\\\\n		if (!target.onblur) target.onblur=function () { setTimeout(function() { close_down(); \\\",\\n	\\\"}\\\",\\n	\\\" \\\",\\n	',',\\n	\\\"300); \\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	if (!delayed) // A delay\\\",\\n	',',\\n	\\\" so as not to throw out too many requests\\\\n	{\\\\n		if (window.currently_doing_list)\\\\n		{\\\\n			window.clearTimeout(window.currently_doing_list);\\\\n			window.currently_doing_list=null;\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		var e_copy={ 'keyCode': e.keyCode\\\",\\n	',',\\n	\\\" 'which': e.which \\\",\\n	\\\"}\\\",\\n	\\\";\\\\n		window.currently_doing_list=window.setTimeout(function() { update_ajax_member_list(target\\\",\\n	',',\\n	\\\"special\\\",\\n	',',\\n	\\\"true\\\",\\n	',',\\n	\\\"e_copy); \\\",\\n	\\\"}\\\",\\n	\\\" \\\",\\n	',',\\n	\\\"400);\\\\n		return;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n	{\\\\n		window.currently_doing_list=null;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	target.special=special;\\\\n\\\\n	var v=target.value;\\\\n\\\\n	window.current_list_for=target;\\\\n	var url='\\\",\\n	ecv(\\\$cl,array(),0,\\\"BASE_URL_NOHTTP\\\",array()),\\n	\\\"/data/namelike.php?id='+encodeURIComponent(v);\\\\n	if (special) url=url+'&special='+special;\\\\n\\\\n	if (typeof window.do_ajax_request!='undefined') do_ajax_request(url+keep_stub()\\\",\\n	',',\\n	\\\"update_ajax_member_list_response);\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\nfunction update_ajax_member_list_response(result\\\",\\n	',',\\n	\\\"list_contents)\\\\n{\\\\n	if (!list_contents) return;\\\\n	if (window.current_list_for==null) return;\\\\n\\\\n	close_down();\\\\n\\\\n	var data_list=false;//(typeof document.createElement('datalist').options!='undefined');	Still to buggy in browsers\\\\n\\\\n	//if (list_contents.childNodes.length==0) return;\\\\n	var list=document.createElement(data_list?'datalist':'select');\\\\n	list.className='people_list';\\\\n	list.setAttribute('id'\\\",\\n	',',\\n	\\\"'ajax_list');\\\\n	if (data_list)\\\\n	{\\\\n		window.current_list_for.setAttribute('list'\\\",\\n	',',\\n	\\\"'ajax_list');\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n	{\\\\n		if (list_contents.childNodes.length==1) // We need to make sure it is not a dropdown. Normally we'd use size (multiple isn't correct\\\",\\n	',',\\n	\\\" but we'll try this for 1 as it may be more stable on some browsers with no side effects)\\\\n		{\\\\n			list.setAttribute('multiple'\\\",\\n	',',\\n	\\\"'multiple');\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n		{\\\\n			list.setAttribute('size'\\\",\\n	',',\\n	\\\"list_contents.childNodes.length+1);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		list.style.position='absolute';\\\\n		list.style.left=(find_pos_x(window.current_list_for))+'px';\\\\n		list.style.top=(find_pos_y(window.current_list_for)+find_height(window.current_list_for))+'px';\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	setTimeout(function() { list.style.zIndex++; \\\",\\n	\\\"}\\\",\\n	\\\" \\\",\\n	',',\\n	\\\"100); // Fixes Opera by causing a refresh\\\\n\\\\n	if (list_contents.childNodes.length==0) return;\\\\n\\\\n	var i\\\",\\n	',',\\n	\\\"item;\\\\n	for (i=0;i<list_contents.childNodes.length;i++)\\\\n	{\\\\n		item=document.createElement('option');\\\\n		item.value=list_contents.childNodes[i].getAttribute('value');\\\\n		item.text=list_contents.childNodes[i].getAttribute('value');\\\\n		item.innerText=list_contents.childNodes[i].getAttribute('value');\\\\n		list.appendChild(item);\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	item=document.createElement('option');\\\\n	item.disabled=true;\\\\n	item.text='\\\",\\n	ecv(\\\$cl,array(2),2,\\\"SUGGESTIONS_ONLY\\\",array()),\\n	\\\"'.toUpperCase();\\\\n	item.innerText='\\\",\\n	ecv(\\\$cl,array(2),2,\\\"SUGGESTIONS_ONLY\\\",array()),\\n	\\\"'.toUpperCase();\\\\n	list.appendChild(item);\\\\n	window.current_list_for.parentNode.appendChild(list);\\\\n\\\\n	if (data_list) return;\\\\n\\\\n	if (typeof window.fade_transition!='undefined')\\\\n	{\\\\n		set_opacity(list\\\",\\n	',',\\n	\\\"0.0);\\\\n		fade_transition(list\\\",\\n	',',\\n	\\\"100\\\",\\n	',',\\n	\\\"30\\\",\\n	',',\\n	\\\"8);\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	var current_list_for_copy=window.current_list_for;\\\\n\\\\n	if (typeof window.current_list_for.old_onkeyup=='undefined')\\\\n		window.current_list_for.old_onkeyup=window.current_list_for.onkeyup;\\\\n	if (typeof window.current_list_for.old_onchange=='undefined')\\\\n		window.current_list_for.old_onchange=window.current_list_for.onchange;\\\\n\\\\n	var make_selection=function(e)\\\\n	{\\\\n		if (typeof e=='undefined') var e=window.event;\\\\n		var el=e.target;\\\\n		if (!el) el=e.srcElement;\\\\n		current_list_for_copy.value=el.value;\\\\n		current_list_for_copy.onkeyup=current_list_for_copy.old_onkeyup;\\\\n		current_list_for_copy.onchange=current_list_for_copy.old_onchange;\\\\n		current_list_for_copy.onkeypress=function() {\\\",\\n	\\\"}\\\",\\n	\\\";\\\\n		if (typeof current_list_for_copy.onrealchange!='undefined' && current_list_for_copy.onrealchange) current_list_for_copy.onrealchange(e);\\\\n		if (typeof current_list_for_copy.onchange!='undefined' && current_list_for_copy.onchange) current_list_for_copy.onchange(e);\\\\n		var al=document.getElementById('ajax_list');\\\\n		al.parentNode.removeChild(al);\\\\n		window.setTimeout(function() {\\\\n			current_list_for_copy.focus();\\\\n		\\\",\\n	\\\"}\\\",\\n	',',\\n	\\\" 300);\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\";\\\\n\\\\n	window.current_list_for.down_once=false;\\\\n	var handle_arrow_usage=function(event) {\\\\n		if (typeof event=='undefined') var event=window.event;\\\\n		if (!event.shiftKey && key_pressed(event\\\",\\n	',',\\n	\\\"40\\\",\\n	',',\\n	\\\"true)) // DOWN\\\\n		{\\\\n			current_list_for_copy.disabled=true;\\\\n			window.setTimeout(function() { current_list_for_copy.disabled=false; \\\",\\n	\\\"}\\\",\\n	',',\\n	\\\" 1000);\\\\n\\\\n			var temp=current_list_for_copy.onblur;\\\\n			current_list_for_copy.onblur=function() {\\\",\\n	\\\"}\\\",\\n	\\\";\\\\n			list.focus();\\\\n			current_list_for_copy.onblur=temp;\\\\n			if (!current_list_for_copy.down_once)\\\\n			{\\\\n				current_list_for_copy.down_once=true;\\\\n				list.selectedIndex=0;\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n			{\\\\n				if (list.selectedIndex<list.options.length-1) list.selectedIndex++;\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			list.options[list.selectedIndex].selected=true;\\\\n			return cancel_bubbling(event);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		if (!event.shiftKey && key_pressed(event\\\",\\n	',',\\n	\\\"38\\\",\\n	',',\\n	\\\"true)) // UP\\\\n		{\\\\n			current_list_for_copy.disabled=true;\\\\n			window.setTimeout(function() { current_list_for_copy.disabled=false; \\\",\\n	\\\"}\\\",\\n	',',\\n	\\\" 1000);\\\\n\\\\n			var temp=current_list_for_copy.onblur;\\\\n			current_list_for_copy.onblur=function() {\\\",\\n	\\\"}\\\",\\n	\\\";\\\\n			list.focus();\\\\n			current_list_for_copy.onblur=temp;\\\\n			if (!current_list_for_copy.down_once)\\\\n			{\\\\n				current_list_for_copy.down_once=true;\\\\n				list.selectedIndex=0;\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\" else\\\\n			{\\\\n				if (list.selectedIndex>0) list.selectedIndex--;\\\\n			\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n			list.options[list.selectedIndex].selected=true;\\\\n			return cancel_bubbling(event);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		return null;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	window.current_list_for.onkeyup=function(event)\\\\n	{\\\\n		if (typeof event=='undefined') var event=window.event;\\\\n		var ret=handle_arrow_usage(event);\\\\n		if (ret!=null) return ret;\\\\n		return update_ajax_member_list(current_list_for_copy\\\",\\n	',',\\n	\\\"current_list_for_copy.special\\\",\\n	',',\\n	\\\"false\\\",\\n	',',\\n	\\\"event);\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	window.current_list_for.onchange=function(event)\\\\n	{\\\\n		current_list_for_copy.onkeyup=current_list_for_copy.old_onkeyup;\\\\n		current_list_for_copy.onchange=current_list_for_copy.old_onchange;\\\\n		if (current_list_for_copy.onchange) current_list_for_copy.onchange(event);\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	list.onkeyup=function(event)\\\\n	{\\\\n		if (typeof event=='undefined') var event=window.event;\\\\n\\\\n		var ret=handle_arrow_usage(event);\\\\n		if (ret!=null) return ret;\\\\n		if (enter_pressed(event)) // ENTER\\\\n		{\\\\n			make_selection(event);\\\\n			current_list_for_copy.disabled=true;\\\\n			window.setTimeout(function() { current_list_for_copy.disabled=false; \\\",\\n	\\\"}\\\",\\n	',',\\n	\\\" 200);\\\\n\\\\n			return cancel_bubbling(event);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		if (!event.shiftKey && key_pressed(event\\\",\\n	',',\\n	\\\"[40\\\",\\n	',',\\n	\\\"38]\\\",\\n	',',\\n	\\\"true))\\\\n		{\\\\n			if (typeof event.preventDefault!='undefined') event.preventDefault();\\\\n			return cancel_bubbling(event);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		return null;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	window.current_list_for.onkeypress=function(event)\\\\n	{\\\\n		if (typeof event=='undefined') var event=window.event;\\\\n\\\\n		if (!event.shiftKey && key_pressed(event\\\",\\n	',',\\n	\\\"[40\\\",\\n	',',\\n	\\\"38]\\\",\\n	',',\\n	\\\"true))\\\\n		{\\\\n			if (typeof event.preventDefault!='undefined') event.preventDefault();\\\\n			return cancel_bubbling(event);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		return null;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n	list.onkeypress=function(event)\\\\n	{\\\\n		if (typeof event=='undefined') var event=window.event;\\\\n\\\\n		if (!event.shiftKey && key_pressed(event\\\",\\n	',',\\n	\\\"[40\\\",\\n	',',\\n	\\\"38\\\",\\n	',',\\n	\\\"13]\\\",\\n	',',\\n	\\\"true))\\\\n		{\\\\n			if (typeof event.preventDefault!='undefined') event.preventDefault();\\\\n			return cancel_bubbling(event);\\\\n		\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n		return null;\\\\n	\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n	add_event_listener_abstract(list\\\",\\n	',',\\n	\\\"browser_matches('ios')?'change':'click'\\\",\\n	',',\\n	\\\"make_selection\\\",\\n	',',\\n	\\\"false);\\\\n\\\\n	window.current_list_for=null;\\\\n\\\",\\n	\\\"}\\\",\\n	\\\"\\\\n\\\\n\\\";\";\n\";}");

?>